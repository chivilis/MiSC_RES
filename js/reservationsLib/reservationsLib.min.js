// RESERVATIONS SYSTEM
var sys = {};
sys.rooms = {};
sys.events = {};
sys.reservations = {};
sys.view = {};

sys.rooms = {

    roomsInDB: {
        studija: studijaArray = ["Studija 1", "Studija 2", "Studija 3", "Studija 4", "Studija 5", "Studija 6", "Studija D"],
        auditorija: auditorijaArray = ["Auditorija 1", "Auditorija 2", "Auditorija 3", "Auditorija 4", "Auditorija 5", 
            "Auditorija 6", "Auditorija 7", "Auditorija 8", "Auditorija 9", "Auditorija 10", "Auditorija 11", "Auditorija 12", "Auditorija D"],
        egs: egsArray = ["EGS"],
        montazine: montazineArray = ["Montazine"]
    }
}

sys.view = {
    properties: {
        workingHoursStart: 9,
        workingHoursEnd: 21,
        hoursRow: function() {return this.workingHoursEnd - this.workingHoursStart;},
        roomsToShow: function() {
            var allRooms = Array();
            for(var key in sys.rooms.roomsInDB) {
                allRooms.push(sys.rooms.roomsInDB[key]);
            }
            return allRooms;
        },
        idsInGrid: {
            hoursBoxesIds: new Array(),
            allBoxesIds: new Array(),
            roomsHeadersIds: new Array(),
        },
        spanColor: "#B7B4B4",       // WHITE BLURED
        highlightColor: "#4497A5",  // GREEN GREYED
        backgroundColor: "#808080", // GREY
        boxesBorderColor: "white",   // WHITE
        hoursCurrentHighlight: "#949494" // CLEAR WHITE
    },
    getDate: function() {
      return new Date();  
    },
    drawGrid: function(){
        
        // GET ROOMS COUNT
        var allRoomsCount = 0;
        for(room in sys.rooms.roomsInDB) {
            allRoomsCount += sys.rooms.roomsInDB[room].length;
        }
        
        // GET HOURS COUNT
        var hoursRows = sys.view.properties.workingHoursEnd - sys.view.properties.workingHoursStart;
        
        // WINDOW RESOLUTION
        var deviceWidth = $(window).width(); // TO FIT IN WINDOW
        if(deviceWidth < 1202) { // 1202 MIN SIZE
            deviceWidth = 1202;
        }
            
        // MAKE DIV FRAMES
        var hoursFrame = "<div class='hours-frame' id='hours-frame'></div>"; // STATIC FRAME HOURS
        var totalFrames = allRoomsCount;
        
        var frames = hoursFrame;
        var roomsInDbArray = sys.view.properties.roomsToShow();
        var parentRoomsId = new Array(); // ID`S MAP
        var childRoomsId = new Array();  // ID`S MAP
        var singleRoomsId = new Array(); // ID`S MAP
        var tempCounterParent = 0, tempCounterSingle = 0;
        
        // ALL BOXES ID`S 
        var allBoxesId = []; 
        
        // BUILD FRAMES BY ROOMS IN DB
        for(var keys in roomsInDbArray) {
            if(roomsInDbArray[keys].length > 1) { // IF HAS ROOMS MORE THAN 1
                frames += "<div id='" + /[A-Za-z]+/.exec(roomsInDbArray[keys][0]) + "'>";     // MAKE GROUPED DIVISION
                parentRoomsId[tempCounterParent] = /[A-Za-z]+/.exec(roomsInDbArray[keys][0]); // MAKE PARENT ID`S MAP
                tempCounterParent++;

                for(var j = 0; j < roomsInDbArray[keys].length; j++) {
                    frames += "<div id='" + roomsInDbArray[keys][j].replace(' ', '_') + "'></div>"; // INSERT ROOMS
                    childRoomsId.push(roomsInDbArray[keys][j].replace(' ', '_'));                   // MAKE CHILDREN ID`S MAP 
                }
                frames += "</div>"; // CLOSE GROUPED DIVISION 
            }
            else {
                frames += "<div id='" + roomsInDbArray[keys][0] + "'></div>"; // INSERT SINGLE ROOMS
                singleRoomsId[tempCounterSingle] = roomsInDbArray[keys][0];   // MAKE SINGLES ID`S MAP
                tempCounterSingle++;
            }
        }
        // BUILT! (frames)
        
        // INSERT FRAMES INTO DOM
        document.getElementById("grid").innerHTML = frames;
        
        // INSERT BOXES INTO GRID
        
        // FORM NEW SINGLES ID`S OBJECT
        var singleRoomsBoxesId = new Object();
        for(var singleRoom in singleRoomsId) {
            var tempArray = new Array();
            for(var j = sys.view.properties.workingHoursStart, k = 0; j <= sys.view.properties.workingHoursEnd; j++, k++) {
                tempArray.push("<div class='boxes' id='" + singleRoomsId[singleRoom] + "Box_" + j + "'></div>");
            }
            singleRoomsBoxesId[singleRoomsId[singleRoom]] = tempArray; // FORM ARRAY
        }
        singleRoomsId = singleRoomsBoxesId;
        
        // INSERT STATIC HOURS BOXES
        var boxesId = new Array();
        for(var j = sys.view.properties.workingHoursStart, k = 0; j <= sys.view.properties.workingHoursEnd; j++, k++) { // SET BOX ID STARTING workingHoursStart
            boxesId.push("<div class='boxes' id='hourBox_" + j + "'></div>");
            if(boxesId.length > 0) {
                document.getElementById("hours-frame").innerHTML += boxesId[k]; // INSERT HOURS BOXES
            }
        }
        
        // FORM NEW CHILDREN BOXES ID`S OBJECT AND INSERT
        var tempArray = new Array();
        for(var childFrame in childRoomsId) {
            for(var j = sys.view.properties.workingHoursStart; j <= sys.view.properties.workingHoursEnd; j++) {
                document.getElementById(childRoomsId[childFrame]).innerHTML += "<div class='boxes' id='" + childRoomsId[childFrame] + "Box_" + j + "'></div>";
            }
        }
        
        // INSERT SINGLE BOXES
        for(var singleRoom in singleRoomsId) {
            for(var j = 0; j <= sys.view.properties.hoursRow(); j++) {
                document.getElementById(singleRoom).innerHTML += singleRoomsId[singleRoom][j]; // INSERT INTO SINGLES
            }
        }
        // HORIZONTAL BOXES IN WINDOW MEASURE
        var horizontalBoxes = 23;
        
        // LAYOUT STUFF
        $('.boxes').css({'width': (deviceWidth - 109) / horizontalBoxes, 'padding-top': (deviceWidth - 109) / horizontalBoxes});
        $('.container').css({'width': "100%"});
        
        /*
        // WINDOW RESIZING RULES
        window.onresize = function() {
            var width = $(window).width();
            if(width < 1202) {
                deviceWidth = 1202;
            }
            else {
                deviceWidth = width;
            }
            
            $('.boxes').css({'width': (deviceWidth - 109) / horizontalBoxes, 'padding-top': (deviceWidth - 109) / horizontalBoxes});
            $('.container').css({'width': "100%"});
        };
        */
        
        // INSERTING HOURS INTO HOURS-FRAME
        var hoursIds = new Array();
        var hoursIdsFrameVar = document.getElementById("hours-frame");
        var hoursIdsVar = hoursIdsFrameVar.getElementsByTagName('*');
        for(var a in hoursIdsVar) {
            if(typeof hoursIdsVar[a] === 'object'){
                hoursIds.push(hoursIdsVar[a].id);
            }
        }
        if(hoursIds.length > hoursRows) {
            for(var j = hoursIds.length - hoursRows - 1; j > 0; j--) { // CLEAN ARRAY DOUBLES
                hoursIds.shift();                                      // hoursIds ALL IDS
            } 
        }
        sys.view.properties.idsInGrid.hoursBoxesIds = hoursIds; // SET VALUE
        
        // PARSE ALL BOXES ID`S FROM GRID 
        var allBoxesIds = new Array();
        var allBoxesIdsFrameVar = document.getElementById("grid");
        var allBoxesIdsVar = allBoxesIdsFrameVar.getElementsByTagName('*');
        for(var a in allBoxesIdsVar) {
            if(typeof allBoxesIdsVar[a] === 'object' && !allBoxesIdsVar[a].id.match(/hour\w+/g) && allBoxesIdsVar[a].id.match(/\d+/) && allBoxesIdsVar[a].id.match(/\Box+/)) {
                allBoxesIds.push(allBoxesIdsVar[a].id);
            }
        }
        allBoxesIds = allBoxesIds.sort();
        // CLEAN DUBLICATES
        for (var j = 0; j < allBoxesIds.length - 1; j++) {
            if (allBoxesIds[j] == allBoxesIds[j + 1]) {
                allBoxesIds.splice(allBoxesIds.indexOf(allBoxesIds[j]), 1);
            }
        }
        sys.view.properties.idsInGrid.allBoxesIds = allBoxesIds;
        
        // PARSE ROOMS HEADERS ID`S
        var roomsHeadersIds = new Array();
        var headerIdsFrameVar = document.getElementById("header");
        var headerIdsVar = headerIdsFrameVar.getElementsByTagName('*');
        for(var a in headerIdsVar){
            if(typeof headerIdsVar[a] === 'object' && headerIdsVar[a].id.match(/\pc+/)) {
                roomsHeadersIds.push(headerIdsVar[a].id);
            }
        }
        roomsHeadersIds = roomsHeadersIds.sort();
        //  CLEAN DUBLICATES
        for (var j = 0; j < roomsHeadersIds.length - 1; j++) {
            if (roomsHeadersIds[j] == roomsHeadersIds[j + 1]) {
                roomsHeadersIds.splice(roomsHeadersIds.indexOf(roomsHeadersIds[j]), 1);
            }
        }
        sys.view.properties.roomsHeadersIds = roomsHeadersIds;
       
        // INSERT HOURS BY ID`S
        for(var j = 0; j < hoursIds.length; j++) {
            document.getElementById(hoursIds[j]).innerHTML = "<span style='position: relative; bottom:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + /[0-9]+/.exec(hoursIds[j]) + ":00" + "</span>";
        }
        
        // INSERT STUDIJA PC`S NUMBERS
        for(var j = 1; j < 7 ; j++) {
            document.getElementById('Studija-pc-' + j).innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + j + "</span>";
        }
        document.getElementById('Studija-pc-D').innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 / 2 + "px; color:" + sys.view.properties.spanColor + "'>"
                                                             + "D" + "</span>";
                                                     
        // INSERT AUDITORIJA PC`S NUMBERS
        for(var j = 1; j < 13 ; j++) {
            document.getElementById('Auditorija-pc-' + j).innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 / 2 + "px; color:" + sys.view.properties.spanColor + "'>"
                                                             + j + "</span>";
        }
        document.getElementById('Auditorija-pc-D').innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + "D" + "</span>";
        
        // INSERT STUDIJA-ALL TEXT
        document.getElementById('Studija-all').innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + "301 STUDIJA" + "</span>";
        // INSERT AUDITORIJA-ALL TEXT
        document.getElementById('Auditorija-all').innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + "305 AUDITORIJA" + "</span>";
        // INSERT EGS-HEADER TEXT
        document.getElementById('EGS-header').innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + "304<br>EGS" + "</span>";   
        // INSERT EGS-HEADER TEXT
        document.getElementById('EGS-header').innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + "EGS" + "</span>"; 
        // INSERT MONTAZINE-HEADER TEXT
        document.getElementById('Montazine-header').innerHTML = "<span style='position: relative; top:" 
                                                             + (deviceWidth - 109) / horizontalBoxes / 2 + "px; color:" + sys.view.properties.spanColor + "'>" 
                                                             + "Montažinė" + "</span>";                                                      
        
        
        // INSERT CALENDAR ICON HOURS-FRAME-HEADER
        document.getElementById('hours-frame-header').innerHTML = "<img style='border: none' src='media/layout/calendar_icon.png' alt='calendar'>";
        
        // ADD CALENDAR IMAGE WIDTH
        $('#hours-frame-header img').css({'height': (deviceWidth - 109) / horizontalBoxes});
        
        // ADD HEADER CSS
        //$('#header').css({'height': (deviceWidth - 109) / horizontalBoxes * 2});
        
        // ADD HEADER-TOP CSS
        $('#header-top').css({'height': (deviceWidth - 109) / horizontalBoxes / 2});
        
        // ADD HEADER-BOTTOM CSS
        $('#header-bottom').css({'height': (deviceWidth - 109) / horizontalBoxes});
        
        // ADD HOURS-FRAME-HEADER CSS
        $('#hours-frame-header').css({'width': (deviceWidth - 109) / horizontalBoxes});
        
        $('#Studija-header').css({'width': (deviceWidth - 109) / horizontalBoxes * 7 + (4 * 6), 'height': (deviceWidth - 109) / horizontalBoxes});
        
        $('#Auditorija-header').css({'width': (deviceWidth - 109) / horizontalBoxes * 13 + (4 * 12), 'height': (deviceWidth - 109) / horizontalBoxes});
        
        $('#EGS-header').css({'width': (deviceWidth - 109) / horizontalBoxes, 'height': (deviceWidth - 109) / horizontalBoxes});
        
        $('#Montazine-header').css({'width': (deviceWidth - 109) / horizontalBoxes, 'height': (deviceWidth - 109) / horizontalBoxes});
       
        $('#Studija-all').css({'width': "100%", 'height': (deviceWidth - 109) / horizontalBoxes / 2 - 2});
 
        $('.Studija-pc-header').css({'width': (deviceWidth - 109) / horizontalBoxes, 'height': (deviceWidth - 109) / horizontalBoxes / 2});
       
        $('#Auditorija-all').css({'width': "100%", 'height': (deviceWidth - 109) / horizontalBoxes / 2 - 2});
       
        $('.Auditorija-pc-header').css({'width': (deviceWidth - 109) / horizontalBoxes, 'height': (deviceWidth - 109) / horizontalBoxes / 2});
        /*
        $('.hours-frame').each(function() {
            hoursIds.push($(this).attr('id'));    
        });
        console.log(hoursIds)
        */
        
        
        //alert(deviceWidth)
        /*
        // PARSE COUNT - HORIZONTAL EVENTS
        var getByid = document.getElementById("grid");
        var getIds = getByid.getElementsByTagName("*");
        for(var a in getIds) {
            if(typeof getIds[a] === 'object' && getIds[a].parentNode.id == 'grid' && getIds[a].hasChildNodes()) { 
               console.log(getIds[a].id)
            }
        }
        */
        /*
        // PARSE ID`S
        var idsTree = new Object();
        // PARSE PARENTS IN WINDOW
        var getByid = document.getElementById("grid");
        var getIds = getByid.getElementsByTagName("*");
        for(var a in getIds) {
            if(typeof getIds[a] === 'object' && getIds[a].parentNode.id == 'grid') { 
               idsTree[getIds[a].id] = {};
            }
        }
        // PARSE SINGLES
        for(var j = 0; j < Object.keys(idsTree).length; j++) {
            for(var a in getIds) {
                if(typeof getIds[a] === 'object' && getIds[a].parentNode.id == Object.keys(idsTree)[j] && !getIds[a].hasChildNodes()) { 
                    idsTree[Object.keys(idsTree)[j]] = new Array();
                }
            }
        }
        for(var j = 0; j < Object.keys(idsTree).length; j++) {
            for(var a in getIds) {
                if(typeof getIds[a] === 'object' && getIds[a].parentNode.id == Object.keys(idsTree)[j] && !getIds[a].hasChildNodes()) { 
                    idsTree[Object.keys(idsTree)[j]].push(getIds[a].id);
                }
            }
        }
        // PARSE PARENTS IN LIST
        for(var j = 0; j < Object.keys(idsTree).length; j++) {
            for(var a in getIds) {
                if(typeof getIds[a] === 'object' && getIds[a].parentNode.id == Object.keys(idsTree)[j] && getIds[a].hasChildNodes()) { 
                    idsTree[Object.keys(idsTree)[j]][getIds[a].id] = {};
                }
            }
        }
        console.log(idsTree)
        //console.log(Object.keys(idsTree)[0])         //(Object.keys(idsTree).length)
        */
        
        
        // HOURS GRID
        
        
        
        
        /*
        // MAKE HORIZONTAL ROOMS GRID
        var htmlRooms = "";
        allRoomsCount += 1; // FOR HOURS COLUM
        var classByRooms = 90 / allRoomsCount;
        
        for(var j = 1; j <= allRoomsCount; j++) {
            htmlRooms += "<div id='grid-box-horizontal_" + j + "'" + "class='grid-box' " + "style='width:" + classByRooms + "%; " + "padding-top:" + classByRooms + "%'>" + "</div>";
        }
        
        // MAKE VERTICAL HOURS GRID
        var htmlHours = "";
        for(var j = sys.view.properties.workingHoursStart, k = 1; j <= sys.view.properties.workingHoursStart + hoursRows; j++, k++) {
            htmlHours += "<div id='grid-box-hour_" + k + "' " + j + htmlRooms + "</div>";
        }
        // DRAW COMBINED GRID
        document.getElementById("grid").innerHTML = htmlHours;
    },
    insertHours: function(hoursRows) {
          
         for(var j = 1; j <= hoursRows; j++) {
            $("#grid-box-hour_" + j).text("<p>" + j + "</p>");
        }
        */
       
        
    
       //alert(deviceWidthPercents)
    },
    interactive: function() {
    
    // HIGHLIGHT CURRENT HOUR
    function highlightHour() {
        var updateMinutes = function(id) {
            var updBox = document.getElementById(id.substring(1)).children;
            updBox[0].innerHTML = sys.view.getDate().getHours() + ":" + (sys.view.getDate().getMinutes()<10?'0':'') + sys.view.getDate().getMinutes();
            if(currentHour != sys.view.getDate().getHours()) {
                clearInterval(int1);
                updBox[0].innerHTML = (sys.view.getDate().getHours() -1 ) + ":00";
                $(id).css('background-color', sys.view.properties.backgroundColor);
                highlightHour();
            }
        }
        var currentHour = sys.view.getDate().getHours();
        var regMatch = RegExp(currentHour + 'd+');
        if(currentHour >= sys.view.properties.workingHoursStart && currentHour <= sys.view.properties.workingHoursEnd) {
            if(sys.view.properties.workingHoursStart <= 9) {
                clearInterval(int2);
                var id = '#' + sys.view.properties.idsInGrid.hoursBoxesIds[0].slice(0, -1) + currentHour;
                $(id).css('background-color', sys.view.properties.hoursCurrentHighlight);
                updateMinutes(id);
                var int1 = setInterval(function() {updateMinutes(id)}, 1000);
            }
            else {
                clearInterval(int2);
                var id = '#' + sys.view.properties.idsInGrid.hoursBoxesIds[0].slice(0, -2) + currentHour;
                $(id).css('background-color', sys.view.properties.hoursCurrentHighlight);
                updateMinutes(id);
                var int1 = setInterval(function() { updateMinutes(id)}, 1000);
            }  
        }
        else {
            var int2 = setInterval(function() { 
                if(sys.view.getDate().getHours() >= sys.view.properties.workingHoursStart) {
                    highlightHour();
                }
            }, 1000);
        }
    }
    highlightHour();

    // POINTER CHANGE
    $('#hours-frame-header, #Studija-all, #Auditorija-all, #EGS-header, #Montazine-header').css('cursor', 'pointer');
    $(sys.view.properties.roomsHeadersIds).each(function(){
       $('#' + this).css('cursor', 'pointer'); 
    });
    $(sys.view.properties.idsInGrid.allBoxesIds).each(function(){
       $('#' + this).css('cursor', 'pointer'); 
    });
        
    // HIGHLIGHT COLUMNS MOUSEOVER - OUT
        // CALENDAR CORNER
        $('#hours-frame-header').mouseenter(function() {
            $(this).animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $(this).animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        
        // STUDIJA
        $('#Studija-pc-1').mouseenter(function() {
            $('#Studija-pc-1, #Studija_1').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_1').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-pc-1').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Studija-pc-2').mouseenter(function() {
            $('#Studija-pc-2, #Studija_2').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_2').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-pc-2').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Studija-pc-3').mouseenter(function() {
            $('#Studija-pc-3, #Studija_3').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_3').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-pc-3').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Studija-pc-4').mouseenter(function() {
            $('#Studija-pc-4, #Studija_4').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_4').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-pc-4').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Studija-pc-5').mouseenter(function() {
            $('#Studija-pc-5, #Studija_5').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_5').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-pc-5').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Studija-pc-6').mouseenter(function() {
            $('#Studija-pc-6, #Studija_6').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_6').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-pc-6').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Studija-pc-D').mouseenter(function() {
            $('#Studija-pc-D, #Studija_D').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_D').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-pc-D').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        
        // AUDITORIJA
        $('#Auditorija-pc-1').mouseenter(function() {
            $('#Auditorija-pc-1, #Auditorija_1').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_1').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-1').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-2').mouseenter(function() {
            $('#Auditorija-pc-2, #Auditorija_2').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_2').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-2').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-3').mouseenter(function() {
            $('#Auditorija-pc-3, #Auditorija_3').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_3').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-3').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-4').mouseenter(function() {
            $('#Auditorija-pc-4, #Auditorija_4').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_4').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-4').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-5').mouseenter(function() {
            $('#Auditorija-pc-5, #Auditorija_5').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_5').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-5').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-6').mouseenter(function() {
            $('#Auditorija-pc-6, #Auditorija_6').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_6').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-6').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-7').mouseenter(function() {
            $('#Auditorija-pc-7, #Auditorija_7').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_7').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-7').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);            
        });
        $('#Auditorija-pc-8').mouseenter(function() {
            $('#Auditorija-pc-8, #Auditorija_8').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_8').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-8').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-9').mouseenter(function() {
            $('#Auditorija-pc-9, #Auditorija_9').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_9').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-9').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-10').mouseenter(function() {
            $('#Auditorija-pc-10, #Auditorija_10').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_10').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-10').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-11').mouseenter(function() {
            $('#Auditorija-pc-11, #Auditorija_11').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_11').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-11').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-12').mouseenter(function() {
            $('#Auditorija-pc-12, #Auditorija_12').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_12').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-12').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        $('#Auditorija-pc-D').mouseenter(function() {
            $('#Auditorija-pc-D, #Auditorija_D').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Auditorija_D').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-pc-D').animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        
        // EGS
        $('#EGS-header').mouseenter(function() {
            $('#EGS').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
            $(this).animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1);
        })
        .mouseleave(function() {
            $('#EGS').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $(this).animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        
        // MONTAZINE HEADER
        $('#Montazine-header').mouseenter(function() {
            $('#Montazine').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
            $(this).animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1);
        })
        .mouseleave(function() {
            $('#Montazine').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $(this).animate({
               backgroundColor: sys.view.properties.backgroundColor,
            }, 1);
        });
        
        // STUDIJA-ALL
        $('#Studija-all').mouseenter(function() {
            $('#Studija_1, #Studija_2, #Studija_3, #Studija_4, #Studija_5, #Studija_6, #Studija_D').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1);
            $('#Studija-all').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
        })
        .mouseleave(function() {
            $('#Studija_1, #Studija_2, #Studija_3, #Studija_4, #Studija_5, #Studija_6, #Studija_D').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Studija-all').animate({
               backgroundColor: "#808080",
            }, 1);
        });
        
        // AUDITORIJA-ALL
        $('#Auditorija-all').mouseenter(function() {
            $('#Auditorija_1, #Auditorija_2, #Auditorija_3, #Auditorija_4, #Auditorija_5, #Auditorija_6, #Auditorija_7, #Auditorija_8, #Auditorija_9, #Auditorija_10, #Auditorija_11, #Auditorija_12, #Auditorija_D').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1); 
            $('#Auditorija-all').animate({
               backgroundColor: sys.view.properties.highlightColor,
            }, 1);
        })
        .mouseleave(function() {
            $('#Auditorija_1, #Auditorija_2, #Auditorija_3, #Auditorija_4, #Auditorija_5, #Auditorija_6, #Auditorija_7, #Auditorija_8, #Auditorija_9, #Auditorija_10, #Auditorija_11, #Auditorija_12, #Auditorija_D').animate({
               backgroundColor: sys.view.properties.boxesBorderColor,
            }, 1);
            $('#Auditorija-all').animate({
               backgroundColor: "#808080",
            }, 1);
        });
        
        // BOXES HIGHLIGHTS
        $(sys.view.properties.idsInGrid.allBoxesIds).each(function() {
            
            $('#'+ this).mouseenter(function() {
                $(this).animate({
                   backgroundColor: sys.view.properties.highlightColor,
                }, 1); 
            })
            .mouseleave(function() {
                $(this).animate({
                   backgroundColor: "#808080"
                }, 1);
            })
        });
        
    },
    
    modal: function() {
        
    },
    responses: function() {
        
    },
}
